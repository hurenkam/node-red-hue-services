<script type="module">

    import { ButtonUI }               from "/resources/@hurenkam/node-red-hue-services/ButtonUI.js";
    import { CameraMotionUI }         from "/resources/@hurenkam/node-red-hue-services/CameraMotionUI.js";
    import { ContactUI }              from "/resources/@hurenkam/node-red-hue-services/ContactUI.js";
    import { DevicePowerUI }          from "/resources/@hurenkam/node-red-hue-services/DevicePowerUI.js";
    import { GroupedLightUI }         from "/resources/@hurenkam/node-red-hue-services/GroupedLightUI.js";
    import { LightUI }                from "/resources/@hurenkam/node-red-hue-services/LightUI.js";
    import { LightLevelUI }           from "/resources/@hurenkam/node-red-hue-services/LightLevelUI.js";
    import { MotionUI }               from "/resources/@hurenkam/node-red-hue-services/MotionUI.js";
    import { RelativeRotaryUI }       from "/resources/@hurenkam/node-red-hue-services/RelativeRotaryUI.js";
    import { TemperatureUI }          from "/resources/@hurenkam/node-red-hue-services/TemperatureUI.js";
    import { SceneUI }                from "/resources/@hurenkam/node-red-hue-services/SceneUI.js";
    import { ZigbeeConnectivityUI }   from "/resources/@hurenkam/node-red-hue-services/ZigbeeConnectivityUI.js";

    var nodes = {
        "ButtonNode": ButtonUI,
        "CameraMotionNode": CameraMotionUI,
        "ContactNode": ContactUI,
        "DevicePowerNode": DevicePowerUI,
        "GroupedLightNode": GroupedLightUI,
        "LightNode": LightUI,
        "LightLevelNode": LightLevelUI,
        "MotionNode": MotionUI,
        "TemperatureNode": TemperatureUI,
        "SceneNode": SceneUI,
        "RelativeRotaryNode": RelativeRotaryUI,
        "ZigbeeConnectivityNode": ZigbeeConnectivityUI,
    }

    Object.keys(nodes).forEach((id) => {
        var node = new nodes[id]();
        var typeName = "@hurenkam/node-red-hue-services/"+id

        var template = document.createElement("script");
        template.setAttribute("type","text/html");
        template.setAttribute("data-template-name",typeName);
        template.innerHTML = node.ui();
        document.documentElement.appendChild(template);

        var help = document.createElement("script");
        help.setAttribute("type","text/markdown");
        help.setAttribute("data-help-name",typeName);
        help.innerHTML = node.manual();
        document.documentElement.appendChild(help);

        RED.nodes.registerType(typeName,node.config);
    });

</script>
